<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>DevFolio Bootstrap Template</title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="" name="keywords">
  <meta content="" name="description">

  <!-- Favicons -->
  <link href="img/favicon.png" rel="icon">
  <link href="img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Bootstrap CSS File -->
  <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Libraries CSS Files -->
  <link href="lib/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="lib/animate/animate.min.css" rel="stylesheet">
  <link href="lib/ionicons/css/ionicons.min.css" rel="stylesheet">
  <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
  <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">
  
  <!-- <link href="jquery-editable-select/dist/jquery-editable-select.min.css" rel="stylesheet"> -->
  <!-- Main Stylesheet File -->
  <link href="css/style.css" rel="stylesheet">
  <link href="./public/css/forms.css" rel="stylesheet">

  <!-- Main Stylesheet File -->
  <script src="https://apis.google.com/js/platform.js" ></script>
  <meta name="google-signin-client_id" content="411937557386-8fdmnh35is2oo4bckud4bgmg8okeanql.apps.googleusercontent.com">

  <link href="css/style.css" rel="stylesheet">
  <link href="./login/css/login.css" rel="stylesheet">
  
  <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
  <link rel="stylesheet" type="text/css" href="./convForm-master/dist/jquery.convform.css">
 
  <link rel="stylesheet" type="text/css" href="./convForm-master/demo.css">
  <!-- =======================================================
    Theme Name: DevFolio
    Theme URL: https://bootstrapmade.com/devfolio-bootstrap-portfolio-html-template/
    Author: BootstrapMade.com
    License: https://bootstrapmade.com/license/
  ======================================================= -->
  <style>
 .chatbot {
      margin-right: 18%;
      background-color: #0078ff;
      color: white;
      margin-left: -25%;
      height:3vw;
      text-align: center;
      border-radius: .25rem;
      padding: 10px;
}

.closebtn {
  margin-left: 15px;
  color: white;
  font-weight: bold;
  float: right;
  font-size: 22px;
  line-height: 20px;
  cursor: pointer;
  transition: 0.3s;
}

.closebtn:hover {
  color: black;
}
     .ct-socials {
    position: fixed;
    top: 25%;
    right: 0;
    list-style: none;
    padding-left: 0;
    z-index: 10;
    margin: 0;
    -webkit-transition: right 0.25s ease-in-out;
    transition: right 0.25s ease-in-out;
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-orient: vertical;
    -webkit-box-direction: normal;
    -ms-flex-direction: column;
    flex-direction: column;
}
.ct-socials li {
    padding: 0px 0;
}
.ct-socials li a {
    background: #3f4653;
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
    -webkit-box-pack: center;
    -ms-flex-pack: center;
    justify-content: center;
    color: #fff;
    width: 44px;
    height: 54px;
    -webkit-transition: all 0.15s ease-in-out;
    transition: all 0.15s ease-in-out;
    float: right;
    padding-left: 5px;
}
.ct-socials li a:hover {
	width: 54px;
	padding-left: 0;
	text-decoration: none;
	background: #3c9bd9;
}
.addborder{
  border: 2px solid black; 
  border-radius: 4px;
  /* font-weight: bold; */
}
a{
  cursor: pointer;
}

  select{
  cursor:pointer;
} 
option{
  cursor:pointer;
} 
     
.botnavbar {
  overflow: hidden;
  background-color: #fff;
  box-shadow: 0 0 6px 0 rgba(0,0,0,.12), 0 6px 6px 0 rgba(0,0,0,.64);
  position: fixed;
  bottom: 0;
  width: 100%;
  z-index:999;
  display:none;
}

.botnavbar a {
  float: left;
  display: block;
  color: #000;
  width:25%;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
  font-size: 17px;
}

.botnavbar a:hover {
  background: #f1f1f1;
  color: black;
}

.botnavbar a.active {
  background-color: #0078ff;
  color: white;
}

.selectcity{
  margin-left: 26%;
}

.selectpincode{
  margin-left: 26%;
}

.checkavailability{
  width:66%;
  font-weight: bold;
  margin-top:2%;
}
@media only screen and (max-width: 600px) {

  .botnavbar{
    display:block;
  }
  .botnavbar a{
    width:25%;
  }
  .float{
   margin-bottom:14%;
   display: block;
}
.leftnavpane{
    display: none;
  }

  a.float4.chat-btn{
    top: 65%;
    left: 50%;
  }
  a.float3{
    top: 65%;
    left: 25%;
  }
  .widget-sidebar{
    height:76vw;
  }

  .selectcity{
    margin-left: 3%;
  }
  .selectpincode{
    margin-left: 3%;
  }
  .checkavailability{
    width:100%;
    font-weight: bold;
    margin-top:2%;
    margin-left: 2%;
  }

}
    .containercheck {
  display: block;
  position: relative;
  padding-left: 35px;
  margin-bottom: 12px;
  cursor: pointer;
  font-size: 22px;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* Hide the browser's default checkbox */
.containercheck input {
  position: absolute;
  opacity: 0;
  cursor: pointer;
  height: 0;
  width: 0;
}

/* Create a custom checkbox */
.checkmark {
  position: absolute;
  top: 0;
  left: 0;
  height: 25px;
  width: 25px;
  background-color: #eee;
}

/* On mouse-over, add a grey background color */
.containercheck:hover input ~ .checkmark {
  background-color: #ccc;
}

/* When the checkbox is checked, add a blue background */
.containercheck input:checked ~ .checkmark {
  background-color: #2196F3;
}

/* Create the checkmark/indicator (hidden when not checked) */
.checkmark:after {
  content: "";
  position: absolute;
  display: none;
}

/* Show the checkmark when checked */
.containercheck input:checked ~ .checkmark:after {
  display: block;
}

/* Style the checkmark/indicator */
.containercheck .checkmark:after {
  left: 9px;
  top: 5px;
  width: 5px;
  height: 10px;
  border: solid white;
  border-width: 0 3px 3px 0;
  -webkit-transform: rotate(45deg);
  -ms-transform: rotate(45deg);
  transform: rotate(45deg);
}


.form-comments{
  text-align: center;
  align-items: center;
}
.problem{
  text-align: left;
  align-items: left;
}
.float3{
	position: absolute;;
	width:50px;
	height:50px;
	background-color:#25d366;
  color:#FFF;
  top: 34%;
  right:58%;
	border-radius:50px;
	text-align:center;
  font-size:30px;
	box-shadow: 2px 2px 3px #999;
  z-index:100;
}

.my-float3{
	margin-top:11px;
}
.float4{
	position: absolute;;
	width:50px;
	height:50px;
	color:#FFF;
  top: 34%;
  right:40%;
	border-radius:50px;
	text-align:center;
  font-size:30px;
	box-shadow: 2px 2px 3px #999;
  z-index:100;
}

.my-float4{
	margin-top:11px;
}


  </style>
</head>

<body>
    
<!-- loginmodals & alertmodal will append here from login.html -->

<div id="loginmodals"></div>

<!-- loginmodals will append here from login.html -->  

<!-- delivery_personmodals & alertmodal will append here from login.html -->

<div id="delivery_personmodals"></div>

<!-- delivery_personmodals will append here from login.html --> 

<!-- Quotation Modal -->
<div class="modal fade" id="quotation">
  <div class="modal-dialog modal-dialog-centered modal-lg" >
  <div class="modal-content">
  <div class="modal-header">
  <h4 class="modal-title">High Level Quotation</h4>
  <buttonget  type="button" class="close" data-dismiss="modal">&times;</button>
  </div>
  <div class="modal-body">
      <b id="quotation_amt"></b> 
  </div>
  <div class="modal-footer">
  <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
  </div></div></div></div>
  
  <!-- Quotation Modal -->


    
  <!--/ Nav Star /-->
  <nav class="navbar navbar-b navbar-reduce navbar-expand-md fixed-top" id="mainNav">
    <div class="container">
      <a class="navbar-brand js-scroll" href="#page-top">Device Repair Service</a>
      <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarDefault"
        aria-controls="navbarDefault" aria-expanded="false" aria-label="Toggle navigation">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <div class="navbar-collapse collapse justify-content-end" id="navbarDefault">
        <ul class="navbar-nav">
          <li class="nav-item" id="homenav">
            <a class="nav-link js-scroll" href="./index2.html">Home</a>
          </li>
          <li class="nav-item" id="servicenav">
            <a class="nav-link js-scroll" href="aboutus.html">About Us</a>
          </li>
          <li class="nav-item" id="contactnav">
            <a class="nav-link js-scroll" href="contactus.html">Contact Us</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll" id="login_button" style="cursor:pointer;" onclick="openLoginModal()">Login</a>
          </li>
          <li>
            
            <div class="navbar-collapse" id="navbar-list-4 prodrop">
              <ul class="navbar-nav">
                  <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" id="username" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  </a>
                  <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                    <a class="dropdown-item" href="./myorders2.html" name="dashboard">Dashboard</a>
                    <a class="dropdown-item" id="" name="editprofile" data-toggle="modal" data-target="#editprofile" onclick="editprofile(this.id)">Edit Profile</a>
                    <a class="dropdown-item" onclick="signout()">Log Out</a>
                  </div>
                </li>   
              </ul>
            </div>
          </li>
        
        </ul>
      </div>
    </div>
  </nav>
  <!--/ Nav End /-->
  
<br><br><br>
  <section class="blog-wrapper sect-pt4" id="blog">
  <div class="container">
    <div class="row">
      <div class="col-md-4" id="leftnavpane">
        <div class="widget-sidebar">
          <a href="./eg2.html" class="sidebar-title" style="color:#0078ff;font-weight: bold;text-decoration: underline;">Device Repair Service</a> <br><br>
          <a href="./myorders2.html" class="sidebar-title">Track Repair Orders</a> <br><br>
          <a href="./insurance.html" class="sidebar-title">Take Insurance Service</a> <br><br>
          <a href="./enquiry.html" class="sidebar-title">Enquiry</a><br><br>
      
          
        </div>
      </div>
      <div class="col-md-8">
        <div class="form-comments2">
          <div class="title-box-2">
            <h3 class="title-left">
            <a onclick="openLoginModal()">Login</a> to View this Page
            </h3>
          </div>
        </div>
        <div class="form-comments">
          <div class="title-box-2">
            <h3 class="title" id="divtitle" style="color:red;">
              Register a Request
            </h3>
          </div>
          <div class="form-mf">
            <div class="row deviceinfo">
              <div class="col-md-8" id="selectcity">
                <div class="dropdown">
                  <select name="city" id="city" class="browser-default custom-select-lg mb-3 selectcity addborder">
                      <option value="" selected disabled>Select City</option>
                  </select>
                </div>
              </div>
              <div class="col-md-8" id="selectpincode">
                  <div class="dropdown">
                    <select name="pincode" id="pincode" class="browser-default custom-select-lg mb-3 selectpincode addborder">
                        <option value="">Select Pin</option>
                    </select>
                  </div>
                </div>
              <div class="col-md-8">
                  <div class="dropdown" id="device_type">
                    <select class="browser-default custom-select-lg mb-3 selectpincode addborder" id="repairdevice" required>
                        <option value="" selected disabled>Select Device</option>
                        <option value="mobile">Mobile</option>
                        <option value="laptop">Laptop</option>
                    </select>
                  </div>
                </div>
              <div class="col-md-8">
                  <div class="dropdown" id="mobile_details">
                    <select class="browser-default custom-select-lg mb-3 selectpincode mcomp addborder" id="devicecompany" required>
                      <option value="" selected disabled>Select Device Company</option>
                    </select>
                  </div>
              </div>
              <div class="col-md-8">
                <div class="dropdown" id="es2div">
                  <select class="browser-default custom-select-lg mb-3 selectpincode mmod addborder" id="devicemodel" required>
                      <option value="">Select Device Model</option>
                  </select>
                </div>
              </div>
              <div class="col-md-12 mb-6 checkpincode">
                  <div class="form-group">
                    <input type="button" class="button button-a browser-default custom-select-lg checkavailability addborder" id="proceedtoproblems" value="Proceed Next" onclick="proceedtoproblems()">
                  </div>
              </div>
            </div>
            <div class="row problem" id="problemdiv">
              
            </div>
            <div class="col-md-12 mb-6" id="problemdiv1">
              <div class="form-group">
                <input type="button" class="button button-a browser-default custom-select-lg checkavailability addborder" value="Get Quotation" onclick="getquote()">
              </div>
            </div>
            <div class="col-md-12 mb-6" id="problemdiv2">
              <div class="form-group">
                <input type="button" class="button button-a browser-default custom-select-lg checkavailability addborder" value="Proceed Next" id="proceedtocontactinfo" onclick="proceedtocontactinfo()">
              </div>
            </div>
            <div class="col-md-12 mb-6" id="problemdiv3">
              <div class="form-group">
                <input type="button" class="button button-a browser-default custom-select-lg checkavailability addborder" value="Go Back" onclick="backtodeviceinfo()">
              </div>
            </div>
            <div class="col-md-8" id="contact_details">
              <div class="form-group">
                <textarea class="browser-default form-control custom-select-lg mb-3 selectpincode addborder" id="address" rows="3" placeholder="Address *"></textarea>
              </div>
              <!-- <div class="form-group">
                <input type="text" class="browser-default form-control custom-select-lg mb-3 selectpincode" id="" placeholder="Landmark" required>
              </div> -->
              <div class="form-group">
                <input type="text" class="browser-default form-control custom-select-lg mb-3 selectpincode" style="border: 2px solid black; border-radius: 4px;" id="phonenum" placeholder="Mobile Number *" required>
              </div>
            </div>
            <div class="col-md-12 mb-6" id="contact_details1">
              <div class="form-group">
                <input type="button" class="button button-a browser-default custom-select-lg checkavailability addborder" value="Submit Request" id="submitrequest" onclick="submitrequest()">
              </div>
            </div>
            <div class="col-md-12 mb-6" id="contact_details2">
              <div class="form-group">
                <input type="button" class="button button-a browser-default custom-select-lg checkavailability addborder" value="Go Back" onclick="backtoproblems()">
              </div>
            </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>
<ul class="ct-socials">
  <li>
     <a href="/" target="_blank"><i class="fab fa-facebook"></i></a>
  </li>
  <li>
     <a href="/" target="_blank"><i class="fab fa-instagram"></i></a>
  </li>
  <li>
     <a href="/" ><i class="fab fa-whatsapp"></i></a>
  </li>
   <li >
    <a class="chat-btns"><i class="fas fa-robot" style="color:white;"></i></a>
    <div class="chatbot" style="display: none;">
      <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span> 
      <strong>Hello</strong> I am here to help you !!
    </div>
 </li>
</ul>

<div class="demo">

</div>
 <!-- JavaScript Libraries -->
 <script src="lib/jquery/jquery.min.js"></script>
 <!-- <script src="jquery-editable-select/dist/jquery-editable-select.min.js"></script> -->

 <script src="lib/jquery/jquery-migrate.min.js"></script>
 <script src="lib/popper/popper.min.js"></script>
 <script src="lib/bootstrap/js/bootstrap.min.js"></script>
 <script src="lib/easing/easing.min.js"></script>
 <script src="lib/counterup/jquery.waypoints.min.js"></script>
 <script src="lib/counterup/jquery.counterup.js"></script>
 <script src="lib/owlcarousel/owl.carousel.min.js"></script>
 <script src="lib/lightbox/js/lightbox.min.js"></script>
 <script src="lib/typed/typed.min.js"></script>
 <!-- Contact Form JavaScript File -->
 <script src="contactform/contactform.js"></script>
 
 <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-app.js"></script>
 <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-analytics.js"></script>
 <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-auth.js"></script>
 <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-firestore.js"></script>
 <script src="https://cdn.jsdelivr.net/npm/@joeattardi/emoji-button@3.1.1/dist/index.min.js"></script>
 <script src='https://kit.fontawesome.com/a076d05399.js'></script>
 <!-- Template Main Javascript File -->

 
 <!-- loginmodals, alertmodal & delivery_personmodals will be loaded from here -->
 
 <script src="js/login.js"></script>
 <script src="js/delivery_person.js"></script>
 <script src="js/main.js"></script>

 <script type="text/javascript" src="./convForm-master/dist/autosize.min.js"></script>
 <script type="text/javascript" src="./convForm-master/dist/jquery.convform.js"></script>

 <script type = "text/javascript" 
        src = "https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/jquery-ui.min.js">
     </script>
    
 <script>
    $(function(){
        $("#loginmodals").load("login.html"); 
        $(".demo").load("./bot.html"); 
        $("#delivery_personmodals").load("delivery_person.html");
       $(".chatbot").effect( "bounce", 1000 );
        var myAudio = new Audio('popup.mp3');
        myAudio.play();
        setTimeout(function(){  $(".chatbot").fadeOut(); }, 3000);
        $('.chat-btns').click(function(){
            $('.demo').toggle()
        })
      });

  function proceedtoproblems()
  {
    if($("#city").val() != "" && $("#pincode").val() != "" && $("#repairdevice").val() != "" && $("#devicecompany").val() != "" && $("#devicemodel").val() != null)
    {
      $(".deviceinfo").fadeOut()
      $("#problemdiv").fadeIn(1000)
      $("#problemdiv1").fadeIn(1000)
      $("#problemdiv2").fadeIn(1000)
      $("#problemdiv3").fadeIn(1000)
    }
    else
    {
      alertdata("Please Select All Fields","")
      $('#alert').modal('show')
    }
  }
  
  function backtodeviceinfo()
  {
    $("#problemdiv").fadeOut()
    $("#problemdiv1").fadeOut()
    $("#problemdiv2").fadeOut()
    $("#problemdiv3").fadeOut()
    $(".deviceinfo").fadeIn()
  }
  
  function proceedtocontactinfo()
  {
    if(problems != "")
    {
      $.ajax({
      url:"./api/getcontactdetails.php",
      method:"POST",
      data:{"sid":sid},
      success: function(para){
        para = JSON.parse(para)
        $("#phonenum").val(para[0])
        $("#address").val(para[1])
      }
    })
    $("#problemdiv").fadeOut()
    $("#problemdiv1").fadeOut()
    $("#problemdiv2").fadeOut()
    $("#problemdiv3").fadeOut()
    $("#contact_details").fadeIn()
    $("#contact_details1").fadeIn()
    $("#contact_details2").fadeIn()
    }
    else
    {
      alertdata("Please Select at least 1 Problem")
      $('#alert').modal('show')
    }
  }
  
  function backtoproblems()
  {
    $("#contact_details").fadeOut()
    $("#contact_details1").fadeOut()
    $("#contact_details2").fadeOut()
    $("#problemdiv").fadeIn()
    $("#problemdiv1").fadeIn()
    $("#problemdiv2").fadeIn()
    $("#problemdiv3").fadeIn()
  }
  function groupArrayOfObjects(list, key) {
        return list.reduce(function(rv, x) {
          (rv[x[key]] = rv[x[key]] || []).push(x);
          return rv;
  
        }, {});
      };
  
  function isItemInArray(array, item) {
      for (var i = 0; i < array.length; i++) {
          // This if statement depends on the format of your array
          if (array[i][0] == item[0] && array[i][1] == item[1]) {
              return i;   // Found it
          }
      }
      return -1;   // Not found
  }
  problem = []
  function getvalue(id)
  {
      
      console.log("Id - ",id)
      id = id.split("-")
      console.log(isItemInArray(problem,[id[0],id[1]]))
      if(isItemInArray(problem,[id[0],id[1]])>=0)
      {
          const index = isItemInArray(problem,[id[0],id[1]]);
          console.log(index)
          if (index > -1) {
              problem.splice(index, 1);
          }
      }
      else
      {
          console.log("Id - ",id[0])
          console.log("bId - ",id[1])
          problem.push([id[0],id[1]]);
  
      }
     
  }
      $(document).ready(function()
      {
        var sid = getCookie("sid");
        if(sid)
        {
          $(".form-comments2").hide()
          $("#contact_details").hide()
          $("#contact_details1").hide()
          $("#contact_details2").hide()
          $("#problemdiv").hide()
          $("#problemdiv1").hide()
          $("#problemdiv2").hide()
          $("#problemdiv3").hide()
        }
        else
        {
          $(".form-comments2").show()
          $(".form-comments").hide()
          $("#damageproblemlist").hide()
          $("#touchdisplayproblemlist").hide()
          $("#hardwareproblemlist").hide()
          $("#batteryproblemlist").hide()
          $("#memorycardproblemlist").hide()
          $("#networkproblemlist").hide()
          $("#otherproblemlist").hide()
          $("#ownproblemlist").hide()
          // $("#es2div").hide()
          $("#contact_details").hide()
          $("#pincode").hide()
        }
        
        $.ajax(
        {
          url: "./api/getprobsubmap.php", 
          method:"POST",
          data:{
            'sid':sid,
            },
          success: function(para)
          {
              s1 = ''
              console.log(para)
              para = JSON.parse(para)
              var groupedPeople=groupArrayOfObjects(para,"pcode");
              subpro_desc = {
                          "Water Damage":"waterdamage" , 
                          "Mobile is Dead":"mobiledead" , 
                          "Display is OK but partial/full touch not working":"toucherror" , 
                          "Touch is OK display damaged":"displayerror" ,
                          "Touch and display both not working":"touchdisplayerror" ,
                          "Mic Problem":"micerror" ,
                          "Speaker problem":"speakererror" , 
                          "Loud speaker problem":"loudspeakererror" , 
                          "Ringer/Vibrator problem ":"vibratorerror" , 
                          "Battery is faulty":"faultybattery" , 
                          "Mobile is not charging":"chargingerror" ,
                          "Network not showing":"networkerror" , 
                          "Only 1-2 tower showing in mobile":"towererror" ,
                          "SIM not detecting":"simerror" , 
                          "Memory card not detecting":"detectionerror" , 
                          "Power ON button not working":"powererror" ,
                          "Volume buttons are not working":"volumerror" , 
                          "Camera not working":"cameraerror" , 
                          "Forgot screen lock/Password":"lockerror" , 
                          "Flash new software":"flasherror"
                         }
                         pro_desc = {
                          'Damage Problem':'damageproblem',
                          'Touch &amp; Display Problem':'touchdisplayproblem',
                         ' Common Hardware Problem':'hardwareproblem',
                          'Battery Problem':'batteryproblem',
                          'Network Related Problem':'networkproblem',
                          'Memory Card Problem':'memorycardproblem',
                          'Other Problems':'otherproblem',
                         }
  
              // console.log(groupedPeople)
              // <div class="form-group ">
                for(x in groupedPeople)
              {
                  if (groupedPeople.hasOwnProperty(x)) 
                  {
                      console.log(x + " -> " + groupedPeople[x]);
              
                      // s1+='<div class="col-md-6 mb-2 "><div class="form-group "><div class="form-check"><div class="custom-checkbox">'
                      // s1+='<input type="checkbox" class="custom-control-input" id="'+x+'"  onclick="showproblems(this.id)">'
                      // s1+='<label class="custom-control-label" for="'+x+'">'+groupedPeople[x][0].problem+'</label></div></div><div id="'+x+'list" style="display:none;">'
                     
                      s1+='<div class="col-md-6 mb-2 "><div class="form-group "><div class="form-check"><div class="custom-checkbox">'
                      s1+='<input type="checkbox" class="custom-control-input" id="'+x+'" onclick="showproblems(this.id)">'
                      s1+='<label class="custom-control-label" for="'+x+'">'+groupedPeople[x][0].problem+'</label></div></div><div id="'+x+'list" style="display:none;">'
  
                      var innersize = Object.keys(groupedPeople[x]).length;
                      console.log("Inner size - ",innersize)
                      window.ids = x;
                      for(let j=0;j<innersize;j++)
                      {
                          
                          s1+='<div class="form-check"><div class="custom-control custom-checkbox">' 
                          s1+='<input type="checkbox" class="custom-control-input" id="'+x+'-'+groupedPeople[x][j].spcode+'" onchange="getvalue(this.id)" name="'+x+'" >'
                          s1+='<label class="custom-control-label" for="'+x+'-'+groupedPeople[x][j].spcode+'">'+groupedPeople[x][j].subproblem+'</label>'
                          s1+='</div></div>'
                          
                      }
                     s1+='</div></div></div>'
                  }
              }
              $('.problem').append(s1)
             
  
          }
        })
  
        $("select.mcomp").change(function(){
          var selectedComp = $(this).children("option:selected").val();
          $.ajax(
              {
                url: "./api/getMobileModel.php", 
                method:"POST",
                data:{'id':selectedComp},
                success: function(para)
                {
                  s1 = ""
                  console.log(para)
                  para = JSON.parse(para)
                  s1 += '<option selected disabled value="">Select Device Model</option>'
                  for(i=0;i<para.length;i++)
                  {
                    console.log("Model - ",para[i][1])
                    console.log("Model - ",para[i][1])
                    s1 += '<option value="'+para[i][0]+'">'+para[i][1]+'</option>'
  
                  }
                
                  $(".mmod").html(s1)
                  $("#es2div").show()
                  
  
                }
             });
  
          });
        });
       
       $.ajax(
       {
         url: "./api/getMobileFilter.php",
         method:"POST",
         success: function(para)
         {
           console.log(para)
           s1 = ""
           para = JSON.parse(para)
           for(i=0;i<para.length;i++)
           {
             s1 += '<option value="'+para[i][0]+'">'+para[i][1]+'</option>'
           }
           $(".mcomp").append(s1)
          }
  
        });
  
        // get cities 
        $.ajax(
              {
                url: "./api/getcities.php", 
                method:"POST",
                success: function(para)
                {
                  para = JSON.parse(para)
                  var str = ''
                  for(let i=0;i<para.length;i++)
                  {
                    str += '<option value="'+para[i][0]+'">'+para[i][1]+'</option>'
                  }
                  $("#city").append(str)
                }
                  
             });
        // 
  
  
  
      // get pincodes from cities
  
      $("#city").change(function(){
        $("#pincode").empty()
        if($("#city").val() != "")
        {
          $("#pincode").show()
          $.ajax(
          {
            url: "./api/getpincode.php", 
            method:"POST",
            data:{'city':$("#city").val()},
            success: function(para)
            {
              para = JSON.parse(para)
              var str = '<option value="" selected disabled>Select Your Pincode</option>'
              for(let i=0;i<para.length;i++)
              {
                str += '<option value="'+para[i]+'">'+para[i]+'</option>'
              }
              $("#pincode").append(str)
            }
          })
        }
      })
  
      // 
  
      problems = []
      function showproblems(id)
      {
          console.log("ID - ",id)
        if($("#"+id).is(":checked"))
        {
          $("#"+id+"list").fadeIn(1000)
          $('[name="'+id+'"]').attr("required", "true");
          // problems.push(id,)
          problems.push([id,$('[name="'+id+'"]').attr('id')])
        }
        else
        {
          $("#"+id+"list").fadeOut(100)
          $('[name="'+id+'"]').attr("required", "false");
          for (var i = 0; i < problems.length; i++)
          { 
            if (problems[i][0] === id) 
            { 
                problems.splice(i, 1);  
            } 
          } 
        }
        console.log(problems)
      }
  
  function getquote(){
  
      $.ajax(
          {
          url: "./api/getquote.php", 
          method:"POST",
          data:{
                  'sid':sid,
                  'mmodel':$(".mmod").val(),
                  'problems':problem
              },
          success: function(para)
          {
              alertdata("Estimated Price for your request is Rs "+para , "")
              window.estprice = para
              $('#alert').modal('show')
          }
          })
  }
  
  function gobacktopincode(){
    
    $(".form-comments").show()
    $("#requestquotation").hide()
    $("#damageproblemlist").hide()
    $("#touchdisplayproblemlist").hide()
    $("#hardwareproblemlist").hide()
    $("#batteryproblemlist").hide()
    $("#memorycardproblemlist").hide()
    $("#networkproblemlist").hide()
    $("#otherproblemlist").hide()
    $("#ownproblemlist").hide()
    // $("#es2div").hide()
    $("#contact_details").hide()
    $("#pincode").hide() 
    $("#mobile_details").hide()
    $("#problemdiv").hide()
    $("#quotebuttons").hide()
  
    $("#selectcity").show()
    // $("#selectpincode").show()
    $(".checkpincode").show()
    $("#divtitle").html("Check Service Availability")
  
  }
  
  function submitrequest()
  {
      var sid = getCookie("sid");
      if(sid)
      {
          console.log(problem)
      
          console.log(window.mcname)
          if($("#phonenum").val() != "" && $("#address").val() != "")
          {
            $("#submitrequest").prop("disabled","true")
              $.ajax(
              {
              url: "./api/submitproblem.php", 
              method:"POST",
              data:{
                      'sid':sid,
                      'pincode':$("#pincode").val(),
                      'mmodel':$(".mmod").val(),
                      'problems':problem,
                      'estprice':window.estprice,
                      'phonenum':$("#phonenum").val(),
                      'address':$("#address").val()
                  },
              success: function(para)
              {
                alertdata(para,"Delivery Status")
                $('#alert').modal({backdrop: 'static', keyboard: false})
                $('#alert').modal('show')
                $("#modalclose").click(function() {
                  window.location.replace("./myorders2.html");
                });
              }
              })
          }
          else
          {
            alertdata("Please Provide Address and Phone Number","")
            $('#alert').modal('show')
  
          }
      }
      else
      {
  
      }
    }
  
  var alterClass = function() {
      var ww = document.body.clientWidth;
     
      if (ww > 600) {
        console.log("Desktop")
        $('.google').attr('src','google.png')
        $('.google').css('width','25%')
      }
      else{
        console.log("Mobile")
        $('.google').attr('src','google.png')
        $('.google').css('width','25%')
      }
      }
      $(window).resize(function(){
        alterClass();
        
          });
      alterClass()
  
  </script>